# Lines configured by zsh-newuser-install
HISTFILE=~/.histfile
HISTSIZE=5000
SAVEHIST=5000
setopt appendhistory
bindkey -e
# End of lines configured by zsh-newuser-install
# The following lines were added by compinstall
zstyle :compinstall filename '~/.zshrc'
# End of lines added by compinstall

# * Configuration and theme.

# ** theme 
# Before, install patched powerline (https://github.com/powerline/powerline). Follow installation instruction on the site
if [[ $TERM == "rxvt-unicode-256color" ]]; then
  ZSH_THEME=kolo
elif [[ $TERM == "xterm" || $TERM == "xterm-256color" ]]; then
  ZSH_THEME=agnoster
else
  ZSH_THEME=kolo
fi

# Enable completion for new installed command within the session by
# not trust the zsh's cache of executable command, and forced it be
# updated
zstyle ":completion:*:commands" rehash 1
autoload -U compinit && compinit

#Alias
alias nano='nano -w'

# ** prefix prompt
DEFAULT_USER=$USER
export DEFAULT_USER
EDITOR="nano"
export EDITOR

## Keybinding
typeset -A key
key[Up]=${terminfo[kcuu1]}
key[Down]=${terminfo[kcud1]}

autoload -U up-line-or-beginning-search
autoload -U down-line-or-beginning-search
zle -N up-line-or-beginning-search
zle -N down-line-or-beginning-search

[[ -n ${key[Left]} ]] && bindkey "${key[Left]}" backward-char
[[ -n ${key[Right]} ]] && bindkey "${key[Right]}" forward-char
[[ -n ${key[Up]} ]] && bindkey "${key[Up]}" up-line-or-beginning-search
[[ -n ${key[Down]} ]] && bindkey "${key[Down]}" down-line-or-beginning-search
bindkey '^U' backward-kill-line

# ** plugins
plugins=(git git-extras sudo command-not-found)

# Completions
#>> git clone https://github.com/zsh-users/zsh-completions $ZSH_CUSTOM/plugins/zsh-completions
plugins+=zsh-completions

# Auto-suggestions
#>> git clone https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions
plugins+=zsh-autosuggestions

# Last operations
# * Zsh-Highlight
#>> git clone https://github.com/zsh-users/zsh-syntax-highlighting $ZSH_CUSTOM/plugins/zsh-syntax-highlighting
plugins+=zsh-syntax-highlighting

# Import oh-my-zsh
export ZSH=$HOME/.oh-my-zsh
source $ZSH/oh-my-zsh.sh

# Plugins configuration (after sourcing)
# Widgets that clear the suggestion
ZSH_AUTOSUGGEST_CLEAR_WIDGETS=(
	history-search-forward
	history-search-backward
	up-line-or-beginning-search
	down-line-or-beginning-search	
	history-beginning-search-forward
	history-beginning-search-backward
	history-substring-search-up
	history-substring-search-down
	up-line-or-history
	down-line-or-history
	accept-line
)
# Widgets that accept the entire suggestion
ZSH_AUTOSUGGEST_ACCEPT_WIDGETS=(
	end-of-line
)
# Widgets that accept the suggestion as far as the cursor moves
ZSH_AUTOSUGGEST_PARTIAL_ACCEPT_WIDGETS=(
	forward-char
	forward-word
    emacs-forward-word
)

# Set keyboard layout
#setxkbmap int -variant colemak
